
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏ö‡∏∏‡∏´‡∏£‡∏µ‡πà‡πÑ‡∏ü‡∏ü‡πâ‡∏≤</title>
</head>
<body>
  <h2>‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏Ñ‡∏∏‡∏ì‡πÉ‡∏ä‡πâ‡∏ö‡∏∏‡∏´‡∏£‡∏µ‡πà‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?</h2>
  <form id="form">
    <label>‚úÖ ‡πÉ‡∏ä‡πâ / ‚ùå ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ:</label><br>
    <input type="radio" name="used" value="Yes"> ‡πÉ‡∏ä‡πâ<br>
    <input type="radio" name="used" value="No"> ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ<br><br>

    <label>‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á:</label><br>
    <input name="reason" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏ñ‡∏π‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏ä‡∏ß‡∏ô / ‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î"><br><br>

    <label>‡∏≠‡∏≤‡∏£‡∏°‡∏ì‡πå‡∏ï‡∏≠‡∏ô‡∏ô‡∏±‡πâ‡∏ô:</label><br>
    <input name="feeling" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î / ‡πÄ‡∏´‡∏á‡∏≤ / ‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∏‡∏Ç"><br><br>

    <label>‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà:</label><br>
    <input name="location" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô / ‡∏ö‡πâ‡∏≤‡∏ô / ‡∏£‡πâ‡∏≤‡∏ô‡∏ô‡πâ‡∏≥‡∏ä‡∏≤"><br><br>

    <label>üéØ ‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì:</label><br>
    <input name="goal" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏à‡∏∞‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ‡πÅ‡∏°‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏ä‡∏ß‡∏ô"><br><br>

    <label>‚ö° ‡∏ï‡∏±‡∏ß‡∏Å‡∏£‡∏∞‡∏ï‡∏∏‡πâ‡∏ô (Trigger):</label><br>
    <input name="trigger" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡πÄ‡∏´‡πá‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô / ‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î / ‡∏≠‡∏¢‡∏π‡πà‡∏Ñ‡∏ô‡πÄ‡∏î‡∏µ‡∏¢‡∏ß"><br><br>

    <button type="submit">‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</button>
  </form>

  <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
  <script>
    liff.init({ liffId: "2007473153-nmRmdL8Q" }).then(() => {
      document.getElementById("form").addEventListener("submit", function(e) {
        e.preventDefault();
        const formData = new FormData(e.target);
        const data = {
          userId: liff.getContext().userId,
          used: formData.get("used"),
          reason: formData.get("reason"),
          feeling: formData.get("feeling"),
          location: formData.get("location"),
          goal: formData.get("goal"),
          trigger: formData.get("trigger"),
          date: new Date().toISOString(),
          event: "‡∏Å‡∏£‡∏≠‡∏Å‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏û‡∏§‡∏ï‡∏¥‡∏Å‡∏£‡∏£‡∏°"
        };
        fetch("https://script.google.com/macros/s/AKfycbzOvY6GDfK8hr6OC0KcIjVmF9uhFZjEQQspjHq8EO5i2tC90Wfe2Z6ridBDznltqvKQmQ/exec", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(data)
        }).then(() => {
          alert("‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡πà‡∏∞ ‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ö‡∏û‡∏µ‡πà‡∏Å‡∏≥‡∏Å‡∏±‡∏ö!");
          liff.closeWindow();
        });
      });
    });
  </script>
</body>
</html>
